{% extends "base.html" %}

{% block home %}
<div class="home-section">
    <img src="{{ url_for('static', filename='home.jpg') }}" alt="Currency Collection Hero Image" class="home-image">
    <div class="home-overlay">
        <h1 class="home-title">Country Currency Collection</h1>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="fun-facts">
    <button class="fact-arrow fact-prev" onclick="showPrevFact()">❮</button>
    <div class="fact-carousel">
        <div class="fact active" data-fact="1">You have <strong>{{ collected_countries }} out of {{ total_countries }}</strong> countries in your collection</div>
        <div class="fact" data-fact="2">You have <strong>{{ total_collections }}</strong> items in your database</div>
        <div class="fact" data-fact="3">You have coins from <strong>{{ collected_countries_coins }} out of {{ total_countries }}</strong> countries</div>
        <div class="fact" data-fact="4">You have notes from <strong>{{ collected_countries_notes }} out of {{ total_countries }}</strong> countries</div>
        <div class="fact" data-fact="5">You have items from <strong>{{ collected_currencies }} out of {{ total_currencies }}</strong> currencies</div>
    </div>
    <button class="fact-arrow fact-next" onclick="showNextFact()">❯</button>
</div>

<div class="icon-grid">
    <a href="{{ url_for('collection') }}" class="icon-link">
        <div class="icon-circle">
            <img src="{{ url_for('static', filename='collection.jpeg') }}" alt="Collection">
            <h3>Collection</h3>
        </div>
    </a>
    
    <a href="{{ url_for('countries') }}" class="icon-link">
        <div class="icon-circle">
            <img src="{{ url_for('static', filename='countries.jpg') }}" alt="Countries">
            <h3>Countries</h3>
        </div>
    </a>
    
    <a href="{{ url_for('manage_collection') }}" class="icon-link">
        <div class="icon-circle">
            <img src="{{ url_for('static', filename='database.jpg') }}" alt="Edit Database">
            <h3>Edit Database</h3>
        </div>
    </a>
</div>

<script>
    let currentFact = 1;
    
    function showFact(factNum) {
        // Hide all facts
        document.querySelectorAll('.fact').forEach(fact => {
            fact.classList.remove('active');
        });
        
        // Show selected fact
        document.querySelector(`[data-fact="${factNum}"]`).classList.add('active');
        currentFact = factNum;
    }
    
    function showNextFact() {
        currentFact = currentFact === 5 ? 1 : currentFact + 1;
        showFact(currentFact);
    }
    
    function showPrevFact() {
        currentFact = currentFact === 1 ? 5 : currentFact - 1;
        showFact(currentFact);
    }
</script>
{% endblock %}